# triptych-poc
Python implementation of Triptych for short linkable ring signatures on Bitcoin keys

Intended to be usable as an API, but currently WIP and only has a simple test (`test.py`).

Sample output of running the test with a ring size of 729:

```
(jmvenv) a@b:~/code/triptych-poc$python test.py 3 6 "hello"
got this index for the signer:  315
Got hash challenge:  25551226821602090155515652220679802951478329489640013112294602592931465843657
Signing took: 4.230259418487549 seconds.
... now verifying
Got hash challenge:  25551226821602090155515652220679802951478329489640013112294602592931465843657
It verified, for the message:  hello
Verifying took: 2.647338628768921 seconds.
Here is the raw signature: 
026421fc83f1ade63923676f1e9aa625fec59c29ae4334ae48789920d3b96c80d203e2850e35f0dc4a6614b03a8a930282e328a36d32dadb604ab0d8e3103bcf64c302e0992bc984f456567a4c0232891aad0759413efe098da87d1a588d6d075530f7039e2765cd96462bd97aad63c8517b8365225bce445e5ee451f680ff7a7c61211b02d1f272aa0cc5d1a30b589f56241fc413f1a1ea5a1db8a93ed94f00baca2bceb30384fe6564b23d3df8eedff5cec3818cacb3920cf6f331294861869b6f863f1238033f5f62ff8e60bf2e8d8f2c44e728c0c5ee061db9f40003640699a1863b8506fc02d52036a2e29bfed96c6e47f3af7a9236216e449702a2f6b4c7cf6f68170b80d80340c6c1264eb0c210d39ca8d5d090f2c64345b4012da7d624cd95dda37c48831a021e05232ba43e8203adfad444a3c391b690e235451639104ab522d499564483c602fb6eb334fbb817621697ab2cec0c388f5428e1a63ee68ba7eb33bd927cb270e80231460b28fcf37772d88a3d54da5ec84417bacc9c97b74d15217668fbfc52536d022136fe33fa677f87cde41a9cf37728114e3a145528d6cc008ee0cc8a02fd926803bf46bb315ca2ac73a7c1c32568e80808b3b49a423c2ea23600d6b882e4ce273c034aecfa50cf27265ef633ee174b70c2e00e611f7072638b08f8edc0dd80437b4503b375faa6ca6247770e5dc8ee092798ff6bde73a2bb2d09b464c33ce29d366b185b7af80c5ab3d8d0f9eb2a5f67cd6e7a47e970974c13e2cd81f44f23abd11e8829d247435a749a11d6fd47e413c5f5a5c19f6f2eb0434b3091497ecd25e281eacabe021cb8eaeaf5254ce0ca9bd4814a665fb7bf61c1de570779a5d882aa4c3602f1f892175b79948d5f554db2043cc5512eb1e2ef8a22a426715dc10b233793e3f756b7cf8cb4ec63af4035675f78fa360b3838eb23488b57c4cd96afb525aa3c8380571805ce9e793479ee0e519593aebc6cbbb9f2bed834b5cdb4c4bac5a659c6aa96b2b1fe2c8a61e6ecd8208b6ec1d2a7e160d5e13b3533087159fd273c8ff1f34f49d53779d4cf6c3f452bb56ee261fe430cae362147eb0c081095b95bab383095f9691334c5932f8cda816fcb28d75d5cc87ba37a9bb1651f20684cb6def3ae3481f275e5a5b7e23c67c1867daed8d36c29b81cca8589daafd8064bfdfcc5f73b760dfea9efb6910f8ad7f1c72bd2af569628435d1c3a5fdf94bcceed14ec54c0df70e628533a2e82a8c5282a00246b6c858865ceec3a897a74e239c133005f7f2df582ae2b29114342195bcec3e88461bcf96ab4a1a5d9b653d245ceeed71ee0f4b5e0cd8c8eabc3b51bd2116d7557c0ae6e486d5112ca7093cb38e83dbada8375a0c1529abf4cd673eb5ace791dfb4ab5398881e6525b91c9e773af
It has length:  1008
Here is the base64 encoded signature:
AmQh/IPxreY5I2dvHpqmJf7FnCmuQzSuSHiZINO5bIDSA+KFDjXw3EpmFLA6ipMCguMoo20y2ttgSrDY4xA7z2TDAuCZK8mE9FZWekwCMokarQdZQT7+CY2ofRpYjW0HVTD3A54nZc2WRivZeq1jyFF7g2UiW85EXl7kUfaA/3p8YSEbAtHycqoMxdGjC1ifViQfxBPxoepaHbipPtlPALrKK86zA4T+ZWSyPT347t/1zsOBjKyzkgz28zEpSGGGm2+GPxI4Az9fYv+OYL8ujY8sROcowMXuBh259AADZAaZoYY7hQb8AtUgNqLim/7ZbG5H8696kjYhbkSXAqL2tMfPb2gXC4DYA0DGwSZOsMIQ05yo1dCQ8sZDRbQBLafWJM2V3aN8SIMaAh4FIyukPoIDrfrURKPDkbaQ4jVFFjkQSrUi1JlWRIPGAvtuszT7uBdiFperLOwMOI9UKOGmPuaLp+szvZJ8snDoAjFGCyj883dy2Io9VNpeyEQXusycl7dNFSF2aPv8UlNtAiE2/jP6Z3+HzeQanPN3KBFOOhRVKNbMAI7gzIoC/ZJoA79GuzFcoqxzp8HDJWjoCAiztJpCPC6iNgDWuILkzic8A0rs+lDPJyZe9jPuF0twwuAOYR9wcmOLCPjtwN2AQ3tFA7N1+qbKYkd3Dl3I7gknmP9r3nOiuy0JtGTDPOKdNmsYW3r4DFqz2ND56ypfZ81uekfpcJdME+LNgfRPI6vRHogp0kdDWnSaEdb9R+QTxfWlwZ9vLrBDSzCRSX7NJeKB6sq+Ahy46ur1JUzgypvUgUpmX7e/YcHeVwd5pdiCqkw2AvH4khdbeZSNX1VNsgQ8xVEuseLviiKkJnFdwQsjN5Pj91a3z4y07GOvQDVnX3j6Ngs4OOsjSItXxM2Wr7UlqjyDgFcYBc6eeTR57g5RlZOuvGy7ufK+2DS1zbTEusWmWcaqlrKx/iyKYebs2CCLbsHSp+Fg1eE7NTMIcVn9JzyP8fNPSdU3edTPbD9FK7Vu4mH+QwyuNiFH6wwIEJW5W6s4MJX5aRM0xZMvjNqBb8so111cyHujepuxZR8gaEy23vOuNIHydeWlt+I8Z8GGfa7Y02wpuBzKhYnar9gGS/38xfc7dg3+qe+2kQ+K1/HHK9KvVpYoQ10cOl/flLzO7RTsVMDfcOYoUzougqjFKCoAJGtshYhlzuw6iXp04jnBMwBffy31gq4rKRFDQhlbzsPohGG8+Wq0oaXZtlPSRc7u1x7g9LXgzYyOq8O1G9IRbXVXwK5uSG1REspwk8s46D262oN1oMFSmr9M1nPrWs55HftKtTmIgeZSW5HJ53Ov
and here is the key image: 
02fc1b1995a1d1ca86bec3a6526390b269ee7cc39f746ed70ab061b632fbfdff8c
The signature's length is 1344 bytes, in base64, for 729 keys.
```

We can see that for a nearly 1K keys ring size the verification time even in this inefficient Python code around 3 second, but in general, the verify and sign times scale ~ linearly in ring size (= anon set).